# 理科問題集計システム

選択式の理科問題の投票・集計を行うWebアプリケーションです。

## 機能

### 投票画面 (`/vote`)
- 1〜8の選択肢から1つを選んで投票できます
- 投票後、選択したボックスが青色で表示されます
- 「もう一度投票する」ボタンで再投票が可能です

### 集計画面 (`/result`)
- 各選択肢への投票数と割合をリアルタイムで表示します
- 最も投票数が多い選択肢を金色で強調表示します
- 集計画面でもボックスを選択できますが、集計には反映されません（表示目的のみ）
- 3秒ごとに自動でデータを更新します
- 「投票データをリセット」ボタンで全ての投票データをクリアできます

### 集計画面の表示情報
- **各ボックスの投票人数**: 各選択肢に何票入ったかを表示
- **投票割合**: 全体を100%とした時の各選択肢への投票割合をパーセント表示
- **最多選択肢の強調**: 最も選ばれた選択肢を金色の枠とグラデーション背景、「最多」バッジで強調表示

## セットアップ

### 必要な環境
- Node.js 18以上

### インストール

```bash
npm install
```

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで以下にアクセスしてください:
- トップページ: http://localhost:3000
- 投票画面: http://localhost:3000/vote
- 集計画面: http://localhost:3000/result

## 本番ビルド

```bash
npm run build
npm start
```

## 技術スタック

- **フレームワーク**: Next.js 14 (App Router)
- **言語**: TypeScript
- **スタイリング**: CSS Modules

## プロジェクト構造

```
countsystem/
├── app/
│   ├── api/
│   │   └── votes/
│   │       └── route.ts          # 投票データAPI
│   ├── vote/
│   │   ├── page.tsx              # 投票画面
│   │   └── vote.module.css       # 投票画面のスタイル
│   ├── result/
│   │   ├── page.tsx              # 集計画面
│   │   └── result.module.css     # 集計画面のスタイル
│   ├── layout.tsx                # ルートレイアウト
│   ├── page.tsx                  # トップページ
│   └── globals.css               # グローバルスタイル
├── package.json
├── tsconfig.json
├── next.config.js
└── README.md
```

## 使い方

1. 投票者は `/vote` にアクセスして1〜8の中から選択肢を選びます
2. 管理者は `/result` にアクセスして集計結果を確認します
3. 集計画面は自動更新されるため、リアルタイムで投票状況を追跡できます
4. 新しい問題に移る際は「投票データをリセット」ボタンでデータをクリアします

## 注意事項

- このシステムはメモリ内にデータを保存しています
- サーバーを再起動すると投票データは失われます
- 複数の端末から同時に使用できますが、同じサーバーに接続する必要があります
- 本番環境で使用する場合は、データベースへの保存を検討してください
